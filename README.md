# لوحة التحكم - Dashboard

لوحة تحكم حديثة ومتجاوبة لإدارة المحتوى باستخدام React و TypeScript.

## المميزات

- ✅ تسجيل دخول آمن
- ✅ إدارة الكاردات (إضافة، تعديل، حذف)
- ✅ عرض معلومات التواصل
- ✅ تصميم متجاوب وجذاب
- ✅ واجهة مستخدم عربية بالكامل

## التقنيات المستخدمة

- **React** - مكتبة JavaScript لبناء واجهات المستخدم
- **TypeScript** - لغة برمجة توفر نوع البيانات الثابت
- **Axios** - مكتبة HTTP للطلبات
- **TailwindCSS** - إطار عمل CSS
- **react-cookie** - إدارة ملفات تعريف الارتباط
- **sonner** - إشعارات جميلة
- **react-query** - إدارة حالة الخادم

## التثبيت

```bash
npm install
```

## التشغيل

```bash
npm run dev
```

سيتم تشغيل الـ Dashboard على البورت **3000** (http://localhost:3000)

> **ملاحظة**: إذا كان البورت 3000 مشغولاً، سيستخدم Vite بورت آخر تلقائياً

### تغيير البورت

يمكنك تغيير البورت من ملف `vite.config.ts`:

```typescript
server: {
  port: 3000, // غير هذا الرقم للبورت المطلوب
}
```

أو يمكنك تشغيله على بورت محدد مباشرة:

```bash
npm run dev -- --port 3001
```

## البناء للإنتاج

```bash
npm run build
```

## إدارة التخزين (Storage)

الداشبورد يدعم تحميل الصور وتخزينها على الخادم. الصور يتم رفعها كـ FormData مع الطلب إلى API.

### كيفية عمل التخزين:

1. **رفع الصور**: عند إضافة أو تعديل كارد، يمكنك اختيار صورة من جهازك
2. **تحزين الصور**: الصور يتم حفظها في مجلد `/storage` على الخادم
3. **عرض الصور**: الصور تُعرض من خلال URL نسبي يتم تحويله إلى عنوان مطلق باستخدام دالة `normalizeStorageUrl()`

### استخدام Storage URLs:

```typescript
import { normalizeStorageUrl, getStorageBaseUrl } from "@/lib/storage";

// تحويل URL نسبي إلى عنوان مطلق
const absoluteUrl = normalizeStorageUrl("cards/image.jpg");
// النتيجة: http://192.168.1.128:8000/storage/cards/image.jpg

// الحصول على base URL للتخزين
const storageBase = getStorageBaseUrl();
// النتيجة: http://192.168.1.128:8000/storage/
```

### المميزات:

- ✅ دعم الصور المطلقة (http/https)
- ✅ دعم الصور النسبية (storage paths)
- ✅ معالجة تلقائية للمسارات الخاطئة
- ✅ fallback إلى رمز emoji عند عدم وجود صورة

## الاستخدام

1. افتح المتصفح على `http://localhost:3000` (البورت الافتراضي للداشبورد)
2. سجل الدخول باستخدام أي بريد إلكتروني وكلمة مرور (للاختبار)
3. استخدم القائمة للتنقل بين الصفحات:
   - **الرئيسية**: نظرة عامة على النظام
   - **الكاردات**: إدارة الكاردات
   - **معلومات التواصل**: عرض رسائل التواصل

### إعداد البورتات

**الداشبورد** يعمل على البورت **3000** (منفصل عن الموقع الرئيسي)

- لتغيير بورت الداشبورد: عدّل `server.port` في `vite.config.ts`
- الموقع الرئيسي يمكن أن يعمل على أي بورت آخر (مثلاً 8000 أو 5173)

### إعداد الاتصال بالـ API

1. أنشئ ملف `.env` في جذر المشروع:
```env
VITE_API_BASE_URL=http://localhost:8000/api
```

2. غير العنوان إلى عنوان الـ API الخاص بموقعك

3. استخدم `apiClient` من `src/lib/axios.ts` في جميع الطلبات

## ملاحظات

- البيانات حالياً محفوظة في localStorage (للاختبار)
- في التطبيق الحقيقي، يجب استبدال localStorage بـ API endpoints
- اللون الأساسي: `#afdecc`

## هيكل المشروع

```
src/
├── components/     # المكونات المشتركة
├── pages/          # الصفحات
├── App.tsx         # المكون الرئيسي
├── main.tsx        # نقطة الدخول
└── index.css       # الأنماط العامة
```

